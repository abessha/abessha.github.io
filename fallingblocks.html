<!DOCTYPE html>
<html>
  <head>
    <title>Falling Blocks</title>
    <script src="js/script.js"></script>
  </head>
  <body style="background-color:lightgrey;border:2px solid lightgrey;padding: 20px;" >
  	<div style= "font-family:verdana;">
    <h1>Falling Blocks - my micro:bit program</h1>
    <sub>Abe Shanthakumaran</sub>
    <p> After exploring what I could do with the micro:bit simulator I had decided to make a game similar to space invaders, without the guns. It's something that anyone can easily pick-up and start playing, no matter the amount of knowledge they have on the piece of hardware.<br> The reason I decided to make this game is because I believe everyone can experience some from of excitement from it, no matter how young or old(even if this is just the beginning of what the micro:bit could be used for). Especially in my case, games are what primarily sparked my interest in software technology, and I hope that I was able to emulate that, even if it was just a tiny bit.</p> 
    <h3>How I built Falling Blocks</h3>
    <p><img src="https://1.bp.blogspot.com/-vZ2ACFvdOzg/XO1wlqw0qUI/AAAAAAAAEyg/Gfs6-wM3KO49BgO3XvgWwobA5Y8Jq954ACKgBGAs/s1600/start.jpg" alt="code for sprite to spawn" style="float:left;width:175px;height:75px;">
    I knew that I first had to get a character to play as, leaving its default variable name of 'sprite' and made sure that this was the first object to 'spawn' on the LED board. As this is a 'space invaders'-esque game, I made sure the sprite spawned at the bottom of the board. I also made it blink to easily differentiate it from the rest of the board.</p>
    <p><img src="https://1.bp.blogspot.com/-vUTN41ywLqg/XO1wlqc7wZI/AAAAAAAAEyg/-vT2hSUeIGQ9yn3GLEuqgRvhLMqlCX5_gCKgBGAs/s1600/move.jpg" alt="code to move sprite" style="float:left;width:250px;height:75px;">
    The next thing I had to do was get the sprite moving. The sprite's movement is limited to just the bottom row, so that it can avoid the falling objects and not just go straight to the top of the board. Pressing <b>A</b> will move the sprite to the left and pressing <b>B</b> will move the sprite to the right.</p>
    <p><img src="https://1.bp.blogspot.com/-FEnwZ1OyuzY/XO1wls1Wx7I/AAAAAAAAEyg/jVe5WA-Z7LYWQYlFZL4_tczVUEffTy-hACKgBGAs/s1600/obstacles.jpg" alt="code for obstacle array" style="float:left;width:175px;height:50px;">For the many obstacles that will come into play, I needed to create an empty array for them to be stored in. I also made sure this would be done at the start.</p>
     <p><img src="https://1.bp.blogspot.com/-SrJX1gxfYuU/XO1wlrFt2nI/AAAAAAAAEyg/ydCDoo5hb0oUomjdWEGsuF4Ge8KeqzghQCKgBGAs/s1600/fallingblocks.jpg" alt="code to spawn in obstacles" style="float:left;width:350px;height:150px;">To create the random obstacles, I used a new variable 'fallingblocks' to create a new obstacle, which is assigned a random value between zero and four, before continuing to the <b><em>for</em></b> loop. This loop contains a new variable 'index' which is used to count the number of iterations and which iteration the <b><em>for</em></b> loop is on. If the 'index' value and 'fallingblocks' value are equal an obstacle will spawn at coordinates(x=index,y=0), this will also be stored at the end of the array 'obstacles'.</p>
     <br>
     <p><img src="https://1.bp.blogspot.com/-DbZ32PRG1kk/XO1wlhe110I/AAAAAAAAEyg/Q9wkkJIGm18gIznsTbVLEmtrPPNjn0ABwCKgBGAs/s1600/falling.jpg" alt="code for obstacles to fall" style="float:left;width:180px;height:95px;">This is a <b><em>for element</em></b> loop which will iterate through each object in the array 'obstacles' and as of now there is only one element in that loop, code within the <b><em>for element</em></b> loop acts on that element. The obstacle's y coordinate will change by one, as it moves down, towards the sprite, every half-second.</p>
     <br>
     <p><img src="https://1.bp.blogspot.com/-fgDXkcs58Js/XO1wlrYrqQI/AAAAAAAAEyg/nMoaVeo5emU0TszBv3BqgPU13MPb3df6gCKgBGAs/s1600/delete.jpg" alt="code to remove obstacles from the bottom" style="float:left;width:312px;height:82px;">The code in this <b><em>while</em></b> loop is only carried out when the conditions of the while loop are met. These conditions being whether the length of the array 'obstacles' is greater than zero and whether the first object in the 'obstacles' array has a y coordinate equal to 4. If both of these coditions are met the first oject in the 'obstacles' array is deleted which would be the obstacle that has reached the same row as the sprite.</p>
     <p><img src="https://1.bp.blogspot.com/-a6CbG2HiDfI/XO1wlry_ygI/AAAAAAAAEyg/gzyHs-kZwlEe2xB4FQcM5Gq-Z_vdKer-gCKgBGAs/s1600/obstacles4eva.jpg" alt="code for generating more obstacles" style="float:left;width:450px;height:250px;">By moving the code used to create obstacles into the <b><em>forever</em></b> loop along with the code for removing obstacles once they reach the bottom, and the code to move the obstacles towards the sprite, it will ensure that obstacles are being generated forever essentially.<p><img src="https://1.bp.blogspot.com/-YFz1Iu9JM9Y/XO1wlnNMzyI/AAAAAAAAEyg/gOAoNQAnvMY5veT17RVXiKaEn9-mS4NEACKgBGAs/s1600/blockspaces.jpg" alt="code for generating more obstacles with spaces between them" style="float:left;width:350px;height:150px;"></p>By enclosing the code to generate more obstacles in an <b><em>if</em></b> statement, the program makes sure to only generate a new obstacle after a condition has been met. By using the new variable 'blocks' we can count how many obstacles have been made, as its value increases by one with each iteration of the code contained within the <b><em>forever</em></b> loop. Once this value is divisible by three, with no remainder, the code within the <b><em>if</em></b> statement, the code to generate more obstacles, can be run.</p>
     <p><img src="https://1.bp.blogspot.com/-eR7CQauIgJU/XO1wlgY8tCI/AAAAAAAAEyg/Fo0Fnr4u-hg0B2ro7iQk9I-XSv9Y10FtwCKgBGAs/s1600/gameover.jpg" alt="code for losing the game and game over animation" style="float:left;width:475px;height:125px;">The main goal of this game is to avoid as many falling blocks as you can. However there is currently no way to lose, there is no point to the game. The idea is that you lose when one of the blocks hit you, so to make the idea a reality I used a <b><em>for element</em></b> loop. The loop ran through the 'obstacles' array, with each element of the array then having to go through an <b><em>if</em></b> statement. The <b><em>if</em></b> statement checks whether the coordinates of the obstacle are the same as the coordinates of the sprite, if that is the case there will be a game over animation, and the player will have to tackle the game once more.</p>
     <p>Now I could have finished the game off here, but in my opinion another essential in a game is a points system, and also increasing difficult, so I developed my code to make these things into reality.</p>
     <p><img src="https://1.bp.blogspot.com/-FI-nj0K1Z38/XO1wlus91yI/AAAAAAAAEyg/_pbm-dHUOE8X8VxiWGVlpY1rCeIJPHgmwCKgBGAs/s1600/score1.jpg" alt="code for points/score system" style="float:left;width:175px;height:50px;">When bringing in a score system into the game, I first had to introduce the score variable, which was easily done using the block from the <b style="color:DarkGreen;">game</b> menu.</p>
     <p><img src="https://1.bp.blogspot.com/-Oo9JcMzzAio/XO1wlqAby0I/AAAAAAAAEyg/CA9KlZ5p0YgEtCSNsqPHkdu-OVWdVXDVwCKgBGAs/s1600/score2.jpg" alt="code for gaining points/increasing the score" style="float:left;width:342px;height:82px;">I added the changing score block into the <b><em>while</em></b> loop that removes the obstacle that reach the bottom. This means that when an obstacle is removed, it is an obstacle that has been successfully avoided, so a point will be gained and an animation will be shown so that the player knows this. </p>
     <br>
     <p><img src="https://1.bp.blogspot.com/-zkpQ4j0SUBI/XO1wlnYnUfI/AAAAAAAAEyg/R5LnwS9BW0ACa-cgujCALpuQmsIw3OfjQCKgBGAs/s1600/difficulty.jpg" alt="code to increase the difficulty of the game" style="float:left;width:550px;height:350px;">Using the <b><em>if</em></b> statement that is used to create gaps between the obstacles, I added a new condition to meet, which is that the player's score is less than 25. This is the easy section. I added two more <b><em>if</em></b> statements in series after this one, each with differing conditions to the last. <br><br> The second <b><em>if</em></b> has the conditions of whether the number of blocks is divisible by two, with no remainder, and whether the player's score is less than 50. By now checking whether the value of 'blocks' is divisible by 2, this decreases the gap between the obstacles, making it slightly harder for the player. <br><br> The last <b><em>if</em></b> statement has the same conditions as the last, just now the score has to be greater than 50. There is also a new variable introduced her, 'fallingblocks2'. If the value of 'index' if equal to either the value of 'fallingblocks' or the value of 'fallingblocks2' an obstacle is realeased from that x coordinate(y=0), this means that there is a chance of two obstacles falling at once. <br><br> I could increase the difficulty of this game indefinitely, but the time to put that program together would be almost indefinite as well.</p>
     <br>
     <h2><b>The final program and code</b></h2>
     <img src="https://1.bp.blogspot.com/-pJusNfEhOzk/XO1wlqh_-aI/AAAAAAAAEyg/xp2HW-ZlcyUoudoOz9Ss35Frhsv8LpxAQCKgBGAs/s1600/final1.jpg" alt="final piece of code(part 1)" style="float:left;width:400px;height:300px;"><img src="https://1.bp.blogspot.com/-jCrkRywYys8/XO1wlvicACI/AAAAAAAAEyg/EI5zaoU5OEIDFWF18GEhtv1zJ3nfGHD8wCKgBGAs/s1600/final2.jpg" alt="final piece of code(part 2)" style="float:right;width:650px;height:950px;">
     <br>
     <br>
     <br>
     <br>
     <br>
     <br>
     <br>
     <br>
     <br>
     <br>
     <br>
     <br>
     <br>
     <br>
     <br>
     <br>
     <br>
     <br>
     <br>
     <br>
     <br>
     <br>
     <br>
     <br>
     <br>
     <br>
     <h4><b>Have a go, and try and beat my high score of 119 points!</b></h4>
     <div style="position:relative;height:0;padding-bottom:81.97%;overflow:hidden;"><iframe style="position:absolute;top:0;left:0;width:100%;height:100%;" src="https://makecode.microbit.org/---run?id=_UtaUgVKchbrT" allowfullscreen="allowfullscreen" sandbox="allow-popups allow-forms allow-scripts allow-same-origin" frameborder="0"></iframe></div>

</div>
  </body>
</html>